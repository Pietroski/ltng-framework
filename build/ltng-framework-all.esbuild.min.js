var ae=Object.create;var B=Object.defineProperty;var le=Object.getOwnPropertyDescriptor;var ie=Object.getOwnPropertyNames;var ce=Object.getPrototypeOf,ue=Object.prototype.hasOwnProperty;var de=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),F=(e,t)=>{for(var o in t)B(e,o,{get:t[o],enumerable:!0})},pe=(e,t,o,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let r of ie(t))!ue.call(e,r)&&r!==o&&B(e,r,{get:()=>t[r],enumerable:!(n=le(t,r))||n.enumerable});return e};var fe=(e,t,o)=>(o=e!=null?ae(ce(e)):{},pe(t||!e||!e.__esModule?B(o,"default",{value:e,enumerable:!0}):o,e));var Q=de(()=>{function X(){let e=Date.now(),t=new Uint8Array(16);return crypto.getRandomValues(t),t[0]=e>>40&255,t[1]=e>>32&255,t[2]=e>>24&255,t[3]=e>>16&255,t[4]=e>>8&255,t[5]=e&255,t[6]=t[6]&15|112,t[8]=t[8]&63|128,[...t].map((o,n)=>{let r=o.toString(16).padStart(2,"0");return n===4||n===6||n===8||n===10?`-${r}`:r}).join("")}window.generateUUIDv7=X;window.loadCSS=e=>{if(!document.querySelector(`link[href="${e}"]`)){let t=document.createElement("link");t.rel="stylesheet",t.href=e,document.head.appendChild(t)}};Object.defineProperty(window,"Body",{get:()=>document.body});window.TextNode=e=>document.createTextNode(e);var Z=!1;HTMLBodyElement.prototype.render=function(...e){if(!Z){for(;this.firstChild;)this.removeChild(this.firstChild);Z=!0}U(this,...e)};HTMLElement.prototype.render=function(...e){U(this,...e)};HTMLUnknownElement.prototype.render=function(...e){U(this,...e)};function U(e,...t){t.forEach(o=>{typeof o=="string"||typeof o=="number"?e.appendChild(TextNode(o)):o instanceof Node?e.appendChild(o):Array.isArray(o)?o.forEach(n=>U(e,n)):o==null||e.appendChild(TextNode(String(o)))})}function me(e,t,...o){let n=document.createElement(e);if(t)for(let[r,a]of Object.entries(t))if(r.startsWith("on")&&typeof a=="function"){let s=r.substring(2).toLowerCase();n.addEventListener(s,a)}else n.setAttribute(r,a);else n.setAttribute("class",e.toLowerCase()),n.setAttribute("id",X());return n.render(o),n}var ge=["div","span","header","footer","main","section","article","h1","h2","h3","h4","h5","h6","p","a","button","input","label","ul","ol","li","img","form","nav"];ge.forEach(e=>{window[e]=(t,...o)=>me(e,t,...o)});window.overlayModal=(e,t)=>{let o=div({...e,style:"position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.5); display: flex; justify-content: center; align-items: center; z-index: 1000;"},div({style:"background: white; padding: 20px; border-radius: 8px; box-shadow: 0 2px 10px rgba(0,0,0,0.1); min-width: 300px; display: flex; flex-direction: column; gap: 15px;"},div({style:"font-size: 1.1em; color: #333;"},t),div({style:"display: flex; justify-content: flex-end;"},button({onClick:n=>{let r=n.target.closest('[style*="position: fixed"]');r&&r.remove()},style:"padding: 8px 16px; background: #007bff; color: white; border: none; border-radius: 4px; cursor: pointer;"},"Close"))));Body.render(o)};window.createStore=(e,t={})=>{let o=e,n=new Set,r=t.persist;if(r){let l=localStorage.getItem(r);if(l)try{o={...o,...JSON.parse(l)}}catch(u){console.error("Failed to parse saved state",u)}}return{getState:()=>o,setState:l=>{o={...o,...l},r&&localStorage.setItem(r,JSON.stringify(o)),n.forEach(u=>u(o))},subscribe:l=>(n.add(l),l(o),()=>n.delete(l))}}});var Ge=fe(Q());var K={};F(K,{color:()=>c,colors:()=>H,gherkin_test:()=>W,ltng_test:()=>q});var q={};F(q,{default:()=>Se});var H={reset:"\x1B[0m",red:"\x1B[31m",green:"\x1B[32m",yellow:"\x1B[33m",blue:"\x1B[34m",magenta:"\x1B[35m",cyan:"\x1B[36m",white:"\x1B[37m",gray:"\x1B[90m"};function c(e,t){return`${H[t]||""}${e}${H.reset}`}var G=[],P="";async function ye(e,t){let o=P;P=`${o}[${e}] `,await t(),P=o}function he(e,t){let o=`${P}${e}`;G.push({name:o,fn:t})}async function we(){let e=0,t=0,o=0,n=process.argv.slice(2),r=null,a=n.indexOf("--run");if(a!==-1&&n[a+1])try{r=new RegExp(n[a+1])}catch(s){console.error(c(`Invalid filter regex: ${s.message}`,"red")),process.exit(1)}console.log(c(`
=== Running Go-like Tests ===
`,"cyan"));for(let s of G){if(r&&!r.test(s.name)){console.log(c(`    [SKIP] ${s.name}: Filtered out`,"yellow")),o++;continue}let i=!1,l=!1,u={name:s.name,Assert:(d,p)=>{d||(console.error(c(`    [FAIL] ${s.name}: ${p||"Assertion failed"}`,"red")),i=!0)},Equal:(d,p,y)=>{d!==p&&(console.error(c(`    [FAIL] ${s.name}: ${y||"Equality check failed"}
      Expected: ${p}
      Actual:   ${d}`,"red")),i=!0)},Fail:()=>{i=!0},Skip:d=>{console.log(c(`    [SKIP] ${s.name}: ${d||""}`,"yellow")),l=!0},Log:(...d)=>{console.log("    [LOG]",...d)}};try{await s.fn(u)}catch(d){console.error(c(`    [ERROR] ${s.name}: ${d.message}`,"red")),i=!0}l?o++:i?(t++,console.log(c(`FAIL: ${s.name}`,"red"))):(e++,console.log(c(`PASS: ${s.name}`,"green")))}console.log(c(`
=== Summary ===`,"cyan")),console.log(`Total:   ${G.length}`),console.log(c(`Passed:  ${e}`,"green")),console.log(c(`Failed:  ${t}`,t>0?"red":"green")),console.log(c(`Skipped: ${o}`,o>0?"yellow":"gray")),t>0&&(process.exitCode=1)}var Se={Test:he,Group:ye,run:we};var W={};F(W,{default:()=>$e});var M=[],Y=[];function xe(e,t){M.push({pattern:e,fn:t,type:"Given"})}function Ce(e,t){M.push({pattern:e,fn:t,type:"When"})}function be(e,t){M.push({pattern:e,fn:t,type:"Then"})}function ve(e,t){let o={name:e,scenarios:[]};Y.push(o);let n=o;global.Scenario=(r,a)=>{n.scenarios.push({name:r,body:a})},t()}async function ke(){console.log(c(`
=== Running Gherkin-like Tests ===
`,"magenta"));let e=process.argv.slice(2),t=null,o=e.indexOf("--run");if(o!==-1&&e[o+1])try{t=new RegExp(e[o+1])}catch(a){console.error(c(`Invalid filter regex: ${a.message}`,"red")),process.exit(1)}let n=0,r=0;for(let a of Y){let s=a.scenarios.filter(i=>!t||t.test(i.name)||t.test(a.name));if(s.length!==0){console.log(c(`Feature: ${a.name}`,"blue"));for(let i of s){console.log(c(`  Scenario: ${i.name}`,"cyan"));let l=!1,u=i.body.split(`
`).map(p=>p.trim()).filter(p=>p.length>0),d={};for(let p of u){let y=!1,x=p.replace(/^(Given|When|Then|And|But)\s+/i,"");for(let m of M){let h;if(typeof m.pattern=="string"?x===m.pattern?h=[]:x.startsWith(m.pattern):m.pattern instanceof RegExp&&(h=x.match(m.pattern)),h){y=!0;try{let C=h.slice(1);await m.fn(d,...C),console.log(c(`    ${c("\u2714","green")} ${p}`,"gray"))}catch(C){console.error(c(`    ${c("\u2718","red")} ${p} 
      Error: ${C.message}`,"red")),l=!0}break}}if(y||(console.error(c(`    ? Undefined step: ${p}`,"yellow")),l=!0),l)break}l?r++:n++}}}console.log(c(`
=== Summary ===`,"magenta")),console.log(`Total Scenarios: ${n+r}`),console.log(c(`Passed:          ${n}`,"green")),console.log(c(`Failed:          ${r}`,r>0?"red":"green")),r>0&&(process.exitCode=1)}var $e={Feature:ve,Given:xe,When:Ce,Then:be,run:ke};var _={};F(_,{AnyServerRequest:()=>L,ExternalServiceCallErr:()=>O,HttpClient:()=>Ue,MapHttpResponseInfo:()=>Ie,asyncDataParser:()=>oe,defaultHeaders:()=>te,generatePass:()=>Te,kebabToLowerSnakeCase:()=>ee,lowerCamelCaseToLowerCaseLowerKebabCase:()=>V,lowerCamelCaseToLowerCaseLowerSnakeCase:()=>Le,objStrDasher:()=>Ee,randomEmail:()=>Re,randomIntFromInterval:()=>R,randomStr:()=>I,randomStrWithPrefixWithSep:()=>Fe,styleToString:()=>f,toStyles:()=>je});var V=e=>e.replace(/[A-Z]/g,t=>"-"+t.toLowerCase()),ee=e=>e.replaceAll("-","_").toLowerCase(),Le=e=>e.replace(/[A-Z]/g,t=>"_"+t.toLowerCase());var Ee=e=>Object.entries(e||{}).reduce((t,[o,n])=>({...t,[V(o)]:n}),{});var f=e=>Object.entries(e||{}).map(([t,o])=>`${t.replace(/([a-z0-9]|(?=[A-Z]))([A-Z])/g,"$1-$2").toLowerCase()}: ${o}`).join("; "),je=e=>Object.entries(e||{}).reduce((t,[o,n])=>({...t,[o.startsWith("moz")||o.startsWith("webkit")?`-${o}`:o]:n}),{});function R(e,t){return Math.floor(Math.random()*(t-e+1)+e)}function I(e){let t="",o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=o.length,r=0;for(;r<e;)t+=o.charAt(Math.floor(Math.random()*n)),r+=1;return t}function Te(){let e="",t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789@#$";for(let o=1;o<=8;o++){let n=Math.floor(Math.random()*t.length+1);e+=t.charAt(n)}return e}function Fe(e,t,o){return`${t}${o}${I(e)}`}function Re(){let e=I(R(5,22)),t=`${I(R(5,7))}.${I(R(2,3))}`;return`${e}@${t}`}function O(){return{cause:"external service call",message:"request response",name:"external error"}}function Ie(e){return e?{StatusCode:e.StatusCode||0,Data:e.Data||null,Err:e.Err||null}:{Err:{cause:"unknown",message:"invalid HttpResponseInfo<any> response ${response}",name:"invalid internal response"},Data:null,StatusCode:422}}var te={Accept:"application/json","Content-type":"application/json; charset=UTF-8"};async function oe(e){return e.body?{StatusCode:e.status,Data:await e.json(),Err:e.status>=400?O():null}:{StatusCode:e.status,Data:null,Err:e.status>=400?O():null}}function De(e){return{Err:e,StatusCode:422,Data:null}}function Ae(e,t,o){let n={method:e,headers:{...te,...o}};return t!=null&&(n.body=JSON.stringify(t)),n}async function L(e,t,o,n,r){let a=Ae(e,n,r);return fetch(t+o,a).then(async s=>oe(s)).catch(s=>(console.log(`caught ${e} call error: ${s}`),De(s)))}function Ue(e){let t=e.baseURL;return{Get:async function(o,n){return L("GET",t,o,null,n)},Post:async function(o,n,r){return L("POST",t,o,n,r)},Delete:async function(o,n){return L("DELETE",t,o,null,n)},Put:async function(o,n,r){return L("PUT",t,o,n,r)},Patch:async function(o,n,r){return L("PATCH",t,o,n,r)},Any:async function(o,n,r,a){return L(o,t,n,r,a)}}}var ne={};var z={};F(z,{Button:()=>v,Card:()=>b,Div:()=>k,FlexStyleOpts:()=>Pe,Footer:()=>Me,Form:()=>E,Input:()=>j,Modal:()=>Ne,Toast:()=>He,Typography:()=>w,createFormStore:()=>Oe,toastStore:()=>T});var v=(e,...t)=>{let{variant:o="default",disabled:n,className:r="",style:a,...s}=e||{},i=["ltng-button"];o==="primary"?i.push("ltng-button--primary"):o==="secondary"&&i.push("ltng-button--secondary"),r&&i.push(r);let l={...s,class:i.join(" ")};return a&&(l.style=typeof a=="object"?f(a):a),n&&(l.disabled=!0),button(l,...t)};v.Primary=(e,...t)=>v({...e,variant:"primary"},...t);v.Secondary=(e,...t)=>v({...e,variant:"secondary"},...t);var b=(e,...t)=>{let{darkMode:o=!0,className:n="",style:r,...a}=e||{},s=["ltng-card"];return o?s.push("ltng-card--dark"):s.push("ltng-card--light"),n&&s.push(n),div({...a,class:s.join(" "),style:typeof r=="object"?f(r):r},...t)},re=e=>{let{onClick:t,style:o,className:n=""}=e,r=["ltng-card-close-btn"];return n&&r.push(n),div({class:r.join(" "),style:typeof o=="object"?f(o):o,onClick:t},"X")};b.Closable=(e,...t)=>{let{initialCardState:o=!0,onCloseClick:n,closeBtnStyle:r,...a}=e||{};return b(a,re({onClick:n,style:r}),...t)};b.SelfClosable=(e,...t)=>{let o=`card-${Math.random().toString(36).substring(2,11)}`,n=r=>{let a=document.getElementById(o);a&&a.remove(),e.onCloseClick&&e.onCloseClick(r)};return b({...e,id:o},re({onClick:n}),...t)};var Pe={FD:{Row:{flexDirection:"row"},Column:{flexDirection:"column"},RowReverse:{flexDirection:"row-reverse"},ColumnReverse:{flexDirection:"column-reverse"}},JC:{Center:{justifyContent:"center"},FlexStart:{justifyContent:"flex-start"},FlexEnd:{justifyContent:"flex-end"},SpaceAround:{justifyContent:"space-around"},SpaceBetween:{justifyContent:"space-between"},SpaceEvenly:{justifyContent:"space-evenly"}},AC:{Center:{alignContent:"center"},FlexStart:{alignContent:"flex-start"},FlexEnd:{alignContent:"flex-end"},Stretch:{alignContent:"stretch"},SpaceAround:{alignContent:"space-around"},SpaceBetween:{alignContent:"space-between"}},AI:{Center:{alignItems:"center"},FlexStart:{alignItems:"flex-start"},FlexEnd:{alignItems:"flex-end"},Stretch:{alignItems:"stretch"}}};var k=(e,...t)=>{let{className:o="",style:n,...r}=e||{},a=["ltng-container"];o&&a.push(o);let s={...r,class:a.join(" ")};return n&&(s.style=typeof n=="object"?f(n):n),div(s,...t)};k.Flex=(e,...t)=>{let{className:o="",style:n,...r}=e||{},a=["ltng-container","ltng-container--flex"];o&&a.push(o);let s={...r,class:a.join(" ")};return n&&(s.style=typeof n=="object"?f(n):n),div(s,...t)};k.Grid=(e,...t)=>{let{className:o="",style:n,...r}=e||{},a=["ltng-container","ltng-container--grid"];o&&a.push(o);let s={...r,class:a.join(" ")};return n&&(s.style=typeof n=="object"?f(n):n),div(s,...t)};var Me=(e,...t)=>{let{className:o="",style:n,...r}=e||{},a=["ltng-footer"];o&&a.push(o);let s={...r,class:a.join(" ")};return n&&(s.style=typeof n=="object"?f(n):n),footer(s,...t)};var Oe=(e={},t={})=>{let o=window.createStore?window.createStore(e):(()=>{let n=e,r=new Set;return{getState:()=>n,setState:a=>{n={...n,...a},r.forEach(s=>s(n))},subscribe:a=>(r.add(a),()=>r.delete(a))}})();return{...o,config:t,GetFormState:()=>o.getState(),GetFormItemStateByKey:n=>o.getState()[n],SetFormItemState:n=>{let r=o.getState();o.setState({[n.id]:{...r[n.id],...n}})},ResetFormState:()=>{o.setState(e)}}},E=(e,...t)=>{let{style:o,onSubmit:n,store:r,className:a="",...s}=e||{},i=["ltng-form"];a&&i.push(a);let l=document.createElement("form");return Object.entries(s).forEach(([u,d])=>{u!=="class"&&l.setAttribute(u,d)}),l.className=i.join(" "),l.style.cssText=f(o),l.onsubmit=u=>{u.preventDefault(),n&&r&&n({...u,formObject:r.GetFormState()})},t.forEach(u=>{u&&l.appendChild(u)}),l};E.Field=e=>{let{store:t,fieldKey:o,label:n,isSecret:r,validation:a,isRequired:s,style:i,darkMode:l,...u}=e;if(!t)return console.error('Form.Field requires a "store" prop.'),k({},"Error: Missing store");let d=l!==void 0?l:t.config?.darkMode;t.GetFormState()[o]||t.SetFormItemState({id:o,value:"",errValue:null,required:s});let y=w.Span({class:"ltng-form-error-msg"},""),m={...u,id:o,placeholder:n,onChange:C=>{let g=C.target.value,S=null;s&&!g?S=new Error("Required field"):a&&(S=a({value:g})),t.SetFormItemState({id:o,value:g,errValue:S,required:s})},style:i,darkMode:d},h=r?j.Secret(m):j(m);return t.subscribe(C=>{let g=C[o];if(g){let S=h.querySelector("input");S&&S.value!==g.value&&(S.value=g.value||""),y.textContent=g.errValue?g.errValue.message:""}}),k({class:"ltng-form-field-container"},h,y)};E.FieldSecret=e=>E.Field({...e,isSecret:!0});E.PrimaryButton=(e,...t)=>{let{store:o,disabled:n,...r}=e,a=v.Primary({...r,type:"submit",disabled:n},...t);return o&&o.subscribe(s=>{let i=!1;if(Object.values(s).forEach(l=>{!l||typeof l!="object"||Array.isArray(l)||(l.required&&(!l.value||l.errValue)&&(i=!0),l.errValue&&(i=!0))}),a.tagName==="BUTTON")a.disabled=i||n;else{let l=a.querySelector("button");l&&(l.disabled=i||n)}}),a};E.SecondaryButton=(e,...t)=>{let{store:o,...n}=e;return v.Secondary({...n,type:"button",onClick:r=>{r.preventDefault(),o&&o.ResetFormState(),e.onClick&&e.onClick(r)}},...t)};var j=e=>{let{id:t,placeholder:o,type:n="text",isSecret:r,darkMode:a=!0,style:s,onChange:i,onFocus:l,onBlur:u,value:d,className:p="",...y}=e||{},x=t||`input-${Math.random().toString(36).substring(2,11)}`,m=r?"password":n,h=["ltng-input-field"];a?h.push("ltng-input-field--dark"):h.push("ltng-input-field--light"),r&&h.push("ltng-input-field--secret");let C=input({id:x,type:m,value:d||"",placeholder:"",class:h.join(" "),onInput:i,onFocus:l,onBlur:u,...y}),g=["ltng-input-label"];a?g.push("ltng-input-label--dark"):g.push("ltng-input-label--light");let S=[window.label({class:g.join(" "),for:x},o||""),C];if(r){let N=["ltng-input-secret-toggle"];a?N.push("ltng-input-secret-toggle--dark"):N.push("ltng-input-secret-toggle--light");let se=div({class:N.join(" "),onClick:J=>{let A=document.getElementById(x);A&&(A.type==="password"?(A.type="text",J.target.textContent="Hide"):(A.type="password",J.target.textContent="Show"))}},"Show");S.push(se)}let D=["ltng-input-wrapper"];return a?D.push("ltng-input-wrapper--dark"):D.push("ltng-input-wrapper--light"),p&&D.push(p),div({class:D.join(" "),style:s},...S)};j.Secret=e=>j({...e,isSecret:!0});var Ne=(e,...t)=>{let{isOpen:o,onClose:n,darkMode:r=!0,style:a,closeFromOutside:s=!0,className:i="",...l}=e||{};if(!o)return null;let u=div({class:"ltng-modal-overlay",onClick:m=>{s&&n&&n(m)}}),d=["ltng-modal-content"];r?d.push("ltng-modal-content--dark"):d.push("ltng-modal-content--light");let p=b.Closable({darkMode:r,onCloseClick:n,className:d.join(" "),style:a,...l},...t),y=["ltng-modal-container"];return i&&y.push(i),div({class:y.join(" ")},u,p)};var $=(e,t)=>(o,...n)=>{let{darkMode:r=!0,className:a="",style:s,...i}=o||{},l=["ltng-typography"];return t&&l.push(t),r?l.push("ltng-typography--dark"):l.push("ltng-typography--light"),a&&l.push(a),(window[e]||((d,...p)=>window.createElement(e.toLowerCase(),d,...p)))({...i,class:l.join(" "),style:typeof s=="object"?f(s):s},...n)},w=(e,...t)=>$("div")(e,...t);w.H1=$("h1","ltng-typography-h1");w.H2=$("h2","ltng-typography-h2");w.H3=$("h3","ltng-typography-h3");w.H4=$("h4","ltng-typography-h4");w.H5=$("h5","ltng-typography-h5");w.Paragraph=$("p","ltng-typography-p");w.Span=$("span","ltng-typography-span");var Be=()=>{let e=[],t=new Set,o=0,n=()=>t.forEach(s=>s(e)),r=s=>{e=e.filter(i=>i.id!==s),n()};return{getToasts:()=>e,subscribe:s=>(t.add(s),()=>t.delete(s)),add:s=>{let i=++o,l={...s,id:i};return e=[...e,l],n(),l.duration!==0&&setTimeout(()=>{r(i)},l.duration||5e3),i},remove:r}};var T=Be(),He={Container:e=>{let{store:t=T,darkMode:o=!0}=e||{},n=k({class:"ltng-toast-container"}),r=a=>{n.innerHTML="",a.forEach((s,i)=>{let l=["ltng-toast-card"];s.type==="warning"?l.push("ltng-toast-card--warning"):s.type==="success"?l.push("ltng-toast-card--success"):s.type==="failure"?l.push("ltng-toast-card--failure"):o?l.push("ltng-toast-card--default-dark"):l.push("ltng-toast-card--default-light");let u=b.Closable({darkMode:o,onCloseClick:()=>t.remove(s.id),className:l.join(" "),style:{marginTop:`${i*110}px`,zIndex:2e3+i},closeBtnStyle:{borderColor:s.type==="failure"?"white":"currentColor"}},w.Paragraph({style:{margin:0,color:"inherit"}},s.message));n.appendChild(u)})};return t.subscribe(r),n},show:(e,t={})=>T.add({message:e,...t}),success:(e,t={})=>T.add({message:e,type:"success",...t}),warning:(e,t={})=>T.add({message:e,type:"warning",...t}),failure:(e,t={})=>T.add({message:e,type:"failure",...t})};Object.assign(window,Ge);Object.assign(window,K);Object.assign(window,_);Object.assign(window,ne);Object.assign(window,z);export{ne as ltng_book,z as ltng_components,Ge as ltng_framework,K as ltng_testingtools,_ as ltng_tools};

window.loadCSS(new URL('./ltng-framework-all.esbuild.min.css', import.meta.url).href);