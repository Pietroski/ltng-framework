function O(){let e=Date.now(),t=new Uint8Array(16);return crypto.getRandomValues(t),t[0]=e>>40&255,t[1]=e>>32&255,t[2]=e>>24&255,t[3]=e>>16&255,t[4]=e>>8&255,t[5]=e&255,t[6]=t[6]&15|112,t[8]=t[8]&63|128,[...t].map((o,r)=>{let n=o.toString(16).padStart(2,"0");return r===4||r===6||r===8||r===10?`-${n}`:n}).join("")}window.generateUUIDv7=O;window.loadCSS=e=>{if(!document.querySelector(`link[href="${e}"]`)){let t=document.createElement("link");t.rel="stylesheet",t.href=e,document.head.appendChild(t)}};Object.defineProperty(window,"Body",{get:()=>document.body});window.TextNode=e=>document.createTextNode(e);var B=!1;HTMLBodyElement.prototype.render=function(...e){if(!B){for(;this.firstChild;)this.removeChild(this.firstChild);B=!0}R(this,...e)};HTMLElement.prototype.render=function(...e){R(this,...e)};HTMLUnknownElement.prototype.render=function(...e){R(this,...e)};function R(e,...t){t.forEach(o=>{typeof o=="string"||typeof o=="number"?e.appendChild(TextNode(o)):o instanceof Node?e.appendChild(o):Array.isArray(o)?o.forEach(r=>R(e,r)):o==null||e.appendChild(TextNode(String(o)))})}function V(e,t,...o){let r=document.createElement(e);if(t)for(let[n,s]of Object.entries(t))if(n.startsWith("on")&&typeof s=="function"){let a=n.substring(2).toLowerCase();r.addEventListener(a,s)}else r.setAttribute(n,s);else r.setAttribute("class",e.toLowerCase()),r.setAttribute("id",O());return r.render(o),r}var z=["div","span","header","footer","main","section","article","h1","h2","h3","h4","h5","h6","p","a","button","input","label","ul","ol","li","img","form","nav"];z.forEach(e=>{window[e]=(t,...o)=>V(e,t,...o)});window.overlayModal=(e,t)=>{let o=div({...e,style:"position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.5); display: flex; justify-content: center; align-items: center; z-index: 1000;"},div({style:"background: white; padding: 20px; border-radius: 8px; box-shadow: 0 2px 10px rgba(0,0,0,0.1); min-width: 300px; display: flex; flex-direction: column; gap: 15px;"},div({style:"font-size: 1.1em; color: #333;"},t),div({style:"display: flex; justify-content: flex-end;"},button({onClick:r=>{let n=r.target.closest('[style*="position: fixed"]');n&&n.remove()},style:"padding: 8px 16px; background: #007bff; color: white; border: none; border-radius: 4px; cursor: pointer;"},"Close"))));Body.render(o)};window.createStore=(e,t={})=>{let o=e,r=new Set,n=t.persist;if(n){let l=localStorage.getItem(n);if(l)try{o={...o,...JSON.parse(l)}}catch(c){console.error("Failed to parse saved state",c)}}return{getState:()=>o,setState:l=>{o={...o,...l},n&&localStorage.setItem(n,JSON.stringify(o)),r.forEach(c=>c(o))},subscribe:l=>(r.add(l),l(o),()=>r.delete(l))}};var H=e=>e.replace(/[A-Z]/g,t=>"-"+t.toLowerCase()),J=e=>e.replaceAll("-","_").toLowerCase(),oe=e=>e.replace(/[A-Z]/g,t=>"_"+t.toLowerCase());var se=e=>Object.entries(e||{}).reduce((t,[o,r])=>({...t,[H(o)]:r}),{});var u=e=>Object.entries(e||{}).map(([t,o])=>`${t.replace(/([a-z0-9]|(?=[A-Z]))([A-Z])/g,"$1-$2").toLowerCase()}: ${o}`).join("; "),le=e=>Object.entries(e||{}).reduce((t,[o,r])=>({...t,[o.startsWith("moz")||o.startsWith("webkit")?`-${o}`:o]:r}),{});window.loadCSS(new URL("../styles/theme.css",import.meta.url).href);window.loadCSS(new URL("./button.css",import.meta.url).href);var x=(e,...t)=>{let{variant:o="default",disabled:r,className:n="",style:s,...a}=e||{},i=["ltng-button"];o==="primary"?i.push("ltng-button--primary"):o==="secondary"&&i.push("ltng-button--secondary"),n&&i.push(n);let l={...a,class:i.join(" ")};return s&&(l.style=typeof s=="object"?u(s):s),r&&(l.disabled=!0),button(l,...t)};x.Primary=(e,...t)=>x({...e,variant:"primary"},...t);x.Secondary=(e,...t)=>x({...e,variant:"secondary"},...t);window.loadCSS(new URL("../styles/theme.css",import.meta.url).href);window.loadCSS(new URL("./card.css",import.meta.url).href);var g=(e,...t)=>{let{darkMode:o=!0,className:r="",style:n,...s}=e||{},a=["ltng-card"];return o?a.push("ltng-card--dark"):a.push("ltng-card--light"),r&&a.push(r),div({...s,class:a.join(" "),style:typeof n=="object"?u(n):n},...t)},G=e=>{let{onClick:t,style:o,className:r=""}=e,n=["ltng-card-close-btn"];return r&&n.push(r),div({class:n.join(" "),style:typeof o=="object"?u(o):o,onClick:t},"X")};g.Closable=(e,...t)=>{let{initialCardState:o=!0,onCloseClick:r,closeBtnStyle:n,...s}=e||{};return g(s,G({onClick:r,style:n}),...t)};g.SelfClosable=(e,...t)=>{let o=`card-${Math.random().toString(36).substring(2,11)}`,r=n=>{let s=document.getElementById(o);s&&s.remove(),e.onCloseClick&&e.onCloseClick(n)};return g({...e,id:o},G({onClick:r}),...t)};var Se={FD:{Row:{flexDirection:"row"},Column:{flexDirection:"column"},RowReverse:{flexDirection:"row-reverse"},ColumnReverse:{flexDirection:"column-reverse"}},JC:{Center:{justifyContent:"center"},FlexStart:{justifyContent:"flex-start"},FlexEnd:{justifyContent:"flex-end"},SpaceAround:{justifyContent:"space-around"},SpaceBetween:{justifyContent:"space-between"},SpaceEvenly:{justifyContent:"space-evenly"}},AC:{Center:{alignContent:"center"},FlexStart:{alignContent:"flex-start"},FlexEnd:{alignContent:"flex-end"},Stretch:{alignContent:"stretch"},SpaceAround:{alignContent:"space-around"},SpaceBetween:{alignContent:"space-between"}},AI:{Center:{alignItems:"center"},FlexStart:{alignItems:"flex-start"},FlexEnd:{alignItems:"flex-end"},Stretch:{alignItems:"stretch"}}};window.loadCSS(new URL("../styles/theme.css",import.meta.url).href);window.loadCSS(new URL("./containers.css",import.meta.url).href);var C=(e,...t)=>{let{className:o="",style:r,...n}=e||{},s=["ltng-container"];o&&s.push(o);let a={...n,class:s.join(" ")};return r&&(a.style=typeof r=="object"?u(r):r),div(a,...t)};C.Flex=(e,...t)=>{let{className:o="",style:r,...n}=e||{},s=["ltng-container","ltng-container--flex"];o&&s.push(o);let a={...n,class:s.join(" ")};return r&&(a.style=typeof r=="object"?u(r):r),div(a,...t)};C.Grid=(e,...t)=>{let{className:o="",style:r,...n}=e||{},s=["ltng-container","ltng-container--grid"];o&&s.push(o);let a={...n,class:s.join(" ")};return r&&(a.style=typeof r=="object"?u(r):r),div(a,...t)};window.loadCSS(new URL("../styles/theme.css",import.meta.url).href);window.loadCSS(new URL("./footer.css",import.meta.url).href);var Ce=(e,...t)=>{let{className:o="",style:r,...n}=e||{},s=["ltng-footer"];o&&s.push(o);let a={...n,class:s.join(" ")};return r&&(a.style=typeof r=="object"?u(r):r),footer(a,...t)};window.loadCSS(new URL("../styles/theme.css",import.meta.url).href);window.loadCSS(new URL("./form.css",import.meta.url).href);var $e=(e={},t={})=>{let o=window.createStore?window.createStore(e):(()=>{let r=e,n=new Set;return{getState:()=>r,setState:s=>{r={...r,...s},n.forEach(a=>a(r))},subscribe:s=>(n.add(s),()=>n.delete(s))}})();return{...o,config:t,GetFormState:()=>o.getState(),GetFormItemStateByKey:r=>o.getState()[r],SetFormItemState:r=>{let n=o.getState();o.setState({[r.id]:{...n[r.id],...r}})},ResetFormState:()=>{o.setState(e)}}},L=(e,...t)=>{let{style:o,onSubmit:r,store:n,className:s="",...a}=e||{},i=["ltng-form"];s&&i.push(s);let l=document.createElement("form");return Object.entries(a).forEach(([c,d])=>{c!=="class"&&l.setAttribute(c,d)}),l.className=i.join(" "),l.style.cssText=u(o),l.onsubmit=c=>{c.preventDefault(),r&&n&&r({...c,formObject:n.GetFormState()})},t.forEach(c=>{c&&l.appendChild(c)}),l};L.Field=e=>{let{store:t,fieldKey:o,label:r,isSecret:n,validation:s,isRequired:a,style:i,darkMode:l,...c}=e;if(!t)return console.error('Form.Field requires a "store" prop.'),C({},"Error: Missing store");let d=l!==void 0?l:t.config?.darkMode;t.GetFormState()[o]||t.SetFormItemState({id:o,value:"",errValue:null,required:a});let S=f.Span({class:"ltng-form-error-msg"},""),b={...c,id:o,placeholder:r,onChange:$=>{let p=$.target.value,m=null;a&&!p?m=new Error("Required field"):s&&(m=s({value:p})),t.SetFormItemState({id:o,value:p,errValue:m,required:a})},style:i,darkMode:d},w=n?E.Secret(b):E(b);return t.subscribe($=>{let p=$[o];if(p){let m=w.querySelector("input");m&&m.value!==p.value&&(m.value=p.value||""),S.textContent=p.errValue?p.errValue.message:""}}),C({class:"ltng-form-field-container"},w,S)};L.FieldSecret=e=>L.Field({...e,isSecret:!0});L.PrimaryButton=(e,...t)=>{let{store:o,disabled:r,...n}=e,s=x.Primary({...n,type:"submit",disabled:r},...t);return o&&o.subscribe(a=>{let i=!1;if(Object.values(a).forEach(l=>{!l||typeof l!="object"||Array.isArray(l)||(l.required&&(!l.value||l.errValue)&&(i=!0),l.errValue&&(i=!0))}),s.tagName==="BUTTON")s.disabled=i||r;else{let l=s.querySelector("button");l&&(l.disabled=i||r)}}),s};L.SecondaryButton=(e,...t)=>{let{store:o,...r}=e;return x.Secondary({...r,type:"button",onClick:n=>{n.preventDefault(),o&&o.ResetFormState(),e.onClick&&e.onClick(n)}},...t)};window.loadCSS(new URL("../styles/theme.css",import.meta.url).href);window.loadCSS(new URL("./input.css",import.meta.url).href);var E=e=>{let{id:t,placeholder:o,type:r="text",isSecret:n,darkMode:s=!0,style:a,onChange:i,onFocus:l,onBlur:c,value:d,className:h="",...S}=e||{},k=t||`input-${Math.random().toString(36).substring(2,11)}`,b=n?"password":r,w=["ltng-input-field"];s?w.push("ltng-input-field--dark"):w.push("ltng-input-field--light"),n&&w.push("ltng-input-field--secret");let $=input({id:k,type:b,value:d||"",placeholder:"",class:w.join(" "),onInput:i,onFocus:l,onBlur:c,...S}),p=["ltng-input-label"];s?p.push("ltng-input-label--dark"):p.push("ltng-input-label--light");let m=[window.label({class:p.join(" "),for:k},o||""),$];if(n){let U=["ltng-input-secret-toggle"];s?U.push("ltng-input-secret-toggle--dark"):U.push("ltng-input-secret-toggle--light");let K=div({class:U.join(" "),onClick:N=>{let j=document.getElementById(k);j&&(j.type==="password"?(j.type="text",N.target.textContent="Hide"):(j.type="password",N.target.textContent="Show"))}},"Show");m.push(K)}let F=["ltng-input-wrapper"];return s?F.push("ltng-input-wrapper--dark"):F.push("ltng-input-wrapper--light"),h&&F.push(h),div({class:F.join(" "),style:a},...m)};E.Secret=e=>E({...e,isSecret:!0});window.loadCSS(new URL("../styles/theme.css",import.meta.url).href);window.loadCSS(new URL("./modal.css",import.meta.url).href);var Fe=(e,...t)=>{let{isOpen:o,onClose:r,darkMode:n=!0,style:s,closeFromOutside:a=!0,className:i="",...l}=e||{};if(!o)return null;let c=div({class:"ltng-modal-overlay",onClick:b=>{a&&r&&r(b)}}),d=["ltng-modal-content"];n?d.push("ltng-modal-content--dark"):d.push("ltng-modal-content--light");let h=g.Closable({darkMode:n,onCloseClick:r,className:d.join(" "),style:s,...l},...t),S=["ltng-modal-container"];return i&&S.push(i),div({class:S.join(" ")},c,h)};window.loadCSS(new URL("../styles/theme.css",import.meta.url).href);window.loadCSS(new URL("./typography.css",import.meta.url).href);var y=(e,t)=>(o,...r)=>{let{darkMode:n=!0,className:s="",style:a,...i}=o||{},l=["ltng-typography"];return t&&l.push(t),n?l.push("ltng-typography--dark"):l.push("ltng-typography--light"),s&&l.push(s),(window[e]||((d,...h)=>window.createElement(e.toLowerCase(),d,...h)))({...i,class:l.join(" "),style:typeof a=="object"?u(a):a},...r)},f=(e,...t)=>y("div")(e,...t);f.H1=y("h1","ltng-typography-h1");f.H2=y("h2","ltng-typography-h2");f.H3=y("h3","ltng-typography-h3");f.H4=y("h4","ltng-typography-h4");f.H5=y("h5","ltng-typography-h5");f.Paragraph=y("p","ltng-typography-p");f.Span=y("span","ltng-typography-span");var Z=()=>{let e=[],t=new Set,o=0,r=()=>t.forEach(a=>a(e)),n=a=>{e=e.filter(i=>i.id!==a),r()};return{getToasts:()=>e,subscribe:a=>(t.add(a),()=>t.delete(a)),add:a=>{let i=++o,l={...a,id:i};return e=[...e,l],r(),l.duration!==0&&setTimeout(()=>{n(i)},l.duration||5e3),i},remove:n}};window.loadCSS(new URL("../styles/theme.css",import.meta.url).href);window.loadCSS(new URL("./toast.css",import.meta.url).href);var T=Z(),Pe={Container:e=>{let{store:t=T,darkMode:o=!0}=e||{},r=C({class:"ltng-toast-container"}),n=s=>{r.innerHTML="",s.forEach((a,i)=>{let l=["ltng-toast-card"];a.type==="warning"?l.push("ltng-toast-card--warning"):a.type==="success"?l.push("ltng-toast-card--success"):a.type==="failure"?l.push("ltng-toast-card--failure"):o?l.push("ltng-toast-card--default-dark"):l.push("ltng-toast-card--default-light");let c=g.Closable({darkMode:o,onCloseClick:()=>t.remove(a.id),className:l.join(" "),style:{marginTop:`${i*110}px`,zIndex:2e3+i},closeBtnStyle:{borderColor:a.type==="failure"?"white":"currentColor"}},f.Paragraph({style:{margin:0,color:"inherit"}},a.message));r.appendChild(c)})};return t.subscribe(n),r},show:(e,t={})=>T.add({message:e,...t}),success:(e,t={})=>T.add({message:e,type:"success",...t}),warning:(e,t={})=>T.add({message:e,type:"warning",...t}),failure:(e,t={})=>T.add({message:e,type:"failure",...t})};var q={reset:"\x1B[0m",red:"\x1B[31m",green:"\x1B[32m",yellow:"\x1B[33m",blue:"\x1B[34m",magenta:"\x1B[35m",cyan:"\x1B[36m",white:"\x1B[37m",gray:"\x1B[90m"};function W(e,t){return`${q[t]||""}${e}${q.reset}`}var X=[],I="";async function Xe(e,t){let o=I;I=`${o}[${e}] `,await t(),I=o}function Qe(e,t){let o=`${I}${e}`;X.push({name:o,fn:t})}var P=[],Q=[];function et(e,t){P.push({pattern:e,fn:t,type:"Given"})}function tt(e,t){P.push({pattern:e,fn:t,type:"When"})}function ot(e,t){P.push({pattern:e,fn:t,type:"Then"})}function rt(e,t){let o={name:e,scenarios:[]};Q.push(o);let r=o;global.Scenario=(n,s)=>{r.scenarios.push({name:n,body:s})},t()}function D(e,t){return Math.floor(Math.random()*(t-e+1)+e)}function A(e){let t="",o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r=o.length,n=0;for(;n<e;)t+=o.charAt(Math.floor(Math.random()*r)),n+=1;return t}function ft(){let e="",t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789@#$";for(let o=1;o<=8;o++){let r=Math.floor(Math.random()*t.length+1);e+=t.charAt(r)}return e}function mt(e,t,o){return`${t}${o}${A(e)}`}function gt(){let e=A(D(5,22)),t=`${A(D(5,7))}.${A(D(2,3))}`;return`${e}@${t}`}function M(){return{cause:"external service call",message:"request response",name:"external error"}}function xt(e){return e?{StatusCode:e.StatusCode||0,Data:e.Data||null,Err:e.Err||null}:{Err:{cause:"unknown",message:"invalid HttpResponseInfo<any> response ${response}",name:"invalid internal response"},Data:null,StatusCode:422}}var Y={Accept:"application/json","Content-type":"application/json; charset=UTF-8"};async function _(e){return e.body?{StatusCode:e.status,Data:await e.json(),Err:e.status>=400?M():null}:{StatusCode:e.status,Data:null,Err:e.status>=400?M():null}}function ee(e){return{Err:e,StatusCode:422,Data:null}}function te(e,t,o){let r={method:e,headers:{...Y,...o}};return t!=null&&(r.body=JSON.stringify(t)),r}async function v(e,t,o,r,n){let s=te(e,r,n);return fetch(t+o,s).then(async a=>_(a)).catch(a=>(console.log(`caught ${e} call error: ${a}`),ee(a)))}function vt(e){let t=e.baseURL;return{Get:async function(o,r){return v("GET",t,o,null,r)},Post:async function(o,r,n){return v("POST",t,o,r,n)},Delete:async function(o,r){return v("DELETE",t,o,null,r)},Put:async function(o,r,n){return v("PUT",t,o,r,n)},Patch:async function(o,r,n){return v("PATCH",t,o,r,n)},Any:async function(o,r,n,s){return v(o,t,r,n,s)}}}export{v as AnyServerRequest,x as Button,g as Card,C as Div,M as ExternalServiceCallErr,rt as Feature,Se as FlexStyleOpts,Ce as Footer,L as Form,et as Given,Xe as Group,vt as HttpClient,E as Input,xt as MapHttpResponseInfo,Fe as Modal,Qe as Test,ot as Then,Pe as Toast,f as Typography,tt as When,_ as asyncDataParser,W as color,q as colors,$e as createFormStore,Y as defaultHeaders,ft as generatePass,J as kebabToLowerSnakeCase,H as lowerCamelCaseToLowerCaseLowerKebabCase,oe as lowerCamelCaseToLowerCaseLowerSnakeCase,se as objStrDasher,gt as randomEmail,D as randomIntFromInterval,A as randomStr,mt as randomStrWithPrefixWithSep,u as styleToString,le as toStyles,T as toastStore};
