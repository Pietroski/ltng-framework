(function(){
var styleToString = window.styleToString;
window.loadCSS(new URL('../styles/theme.css', ({ url: 'file:///button.mjs' }).url).href)
window.loadCSS(new URL('./button.css', ({ url: 'file:///button.mjs' }).url).href)
window.Button = (props, ...children) => {
const { variant = 'default', disabled, className = '', style, ...rest } = props || {}
const classes = ['ltng-button']
if (variant === 'primary') {
classes.push('ltng-button--primary')
} else if (variant === 'secondary') {
classes.push('ltng-button--secondary')
}
if (disabled) {
}
if (className) {
classes.push(className)
}
const buttonProps = {
...rest,
class: classes.join(' ')
}
if (style) buttonProps.style = typeof style === 'object' ? styleToString(style) : style // Pass through inline styles
if (disabled) {
buttonProps.disabled = true
}
return button(buttonProps, ...children)
}
Button.Primary = (props, ...children) => Button({ ...props, variant: 'primary' }, ...children)
Button.Secondary = (props, ...children) => Button({ ...props, variant: 'secondary' }, ...children)
})();
(function(){
var styleToString = window.styleToString;
window.loadCSS(new URL('../styles/theme.css', ({ url: 'file:///card.mjs' }).url).href)
window.loadCSS(new URL('./card.css', ({ url: 'file:///card.mjs' }).url).href)
window.Card = (props, ...children) => {
const { darkMode = true, className = '', style, ...rest } = props || {}
const classes = ['ltng-card']
if (darkMode) classes.push('ltng-card--dark')
else classes.push('ltng-card--light')
if (className) classes.push(className)
return div({
...rest,
class: classes.join(' '),
style: typeof style === 'object' ? styleToString(style) : style
}, ...children)
}
const CardCloseButton = (props) => {
const { onClick, style, className = '' } = props
const classes = ['ltng-card-close-btn']
if (className) classes.push(className)
return div({
class: classes.join(' '),
style: typeof style === 'object' ? styleToString(style) : style,
onClick: onClick
}, 'X')
}
Card.Closable = (props, ...children) => {
const { initialCardState = true, onCloseClick, closeBtnStyle, ...rest } = props || {}
return Card(rest,
CardCloseButton({ onClick: onCloseClick, style: closeBtnStyle }),
...children
)
}
Card.SelfClosable = (props, ...children) => {
const id = `card-${Math.random().toString(36).substring(2, 11)}`
const closeHandler = (e) => {
const el = document.getElementById(id)
if (el) el.remove()
if (props.onCloseClick) props.onCloseClick(e)
}
return Card({ ...props, id },
CardCloseButton({ onClick: closeHandler }),
...children
)
}
})();
(function(){
var styleToString = window.styleToString;
window.FlexStyleOpts = {
FD: {
Row: { flexDirection: 'row' },
Column: { flexDirection: 'column' },
RowReverse: { flexDirection: 'row-reverse' },
ColumnReverse: { flexDirection: 'column-reverse' },
},
JC: {
Center: { justifyContent: 'center' },
FlexStart: { justifyContent: 'flex-start' },
FlexEnd: { justifyContent: 'flex-end' },
SpaceAround: { justifyContent: 'space-around' },
SpaceBetween: { justifyContent: 'space-between' },
SpaceEvenly: { justifyContent: 'space-evenly' },
},
AC: {
Center: { alignContent: 'center' },
FlexStart: { alignContent: 'flex-start' },
FlexEnd: { alignContent: 'flex-end' },
Stretch: { alignContent: 'stretch' },
SpaceAround: { alignContent: 'space-around' },
SpaceBetween: { alignContent: 'space-between' },
},
AI: {
Center: { alignItems: 'center' },
FlexStart: { alignItems: 'flex-start' },
FlexEnd: { alignItems: 'flex-end' },
Stretch: { alignItems: 'stretch' },
},
}
window.loadCSS(new URL('../styles/theme.css', ({ url: 'file:///containers.mjs' }).url).href)
window.loadCSS(new URL('./containers.css', ({ url: 'file:///containers.mjs' }).url).href)
window.Div = (props, ...children) => {
const { className = '', style, ...rest } = props || {}
const classes = ['ltng-container']
if (className) classes.push(className)
const containerProps = {
...rest,
class: classes.join(' ')
}
if (style) containerProps.style = typeof style === 'object' ? styleToString(style) : style
return div(containerProps, ...children)
}
Div.Flex = (props, ...children) => {
const { className = '', style, ...rest } = props || {}
const classes = ['ltng-container', 'ltng-container--flex']
if (className) classes.push(className)
const containerProps = {
...rest,
class: classes.join(' ')
}
if (style) containerProps.style = typeof style === 'object' ? styleToString(style) : style
return div(containerProps, ...children)
}
Div.Grid = (props, ...children) => {
const { className = '', style, ...rest } = props || {}
const classes = ['ltng-container', 'ltng-container--grid']
if (className) classes.push(className)
const containerProps = {
...rest,
class: classes.join(' ')
}
if (style) containerProps.style = typeof style === 'object' ? styleToString(style) : style
return div(containerProps, ...children)
}
})();
(function(){
var styleToString = window.styleToString;
window.loadCSS(new URL('../styles/theme.css', ({ url: 'file:///footer.mjs' }).url).href)
window.loadCSS(new URL('./footer.css', ({ url: 'file:///footer.mjs' }).url).href)
window.Footer = (props, ...children) => {
const { className = '', style, ...rest } = props || {}
const classes = ['ltng-footer']
if (className) classes.push(className)
const footerProps = {
...rest,
class: classes.join(' ')
}
if (style) footerProps.style = typeof style === 'object' ? styleToString(style) : style
return footer(footerProps, ...children)
}
})();
(function(){
var styleToString = window.styleToString;
var Button = window.Button;
var Div = window.Div;
var Input = window.Input;
var Typography = window.Typography;
window.loadCSS(new URL('../styles/theme.css', ({ url: 'file:///form.mjs' }).url).href)
window.loadCSS(new URL('./form.css', ({ url: 'file:///form.mjs' }).url).href)
window.createFormStore = (initialState = {}, config = {}) => {
const store = window.createStore ? window.createStore(initialState) : (() => {
let state = initialState
const listeners = new Set()
return {
getState: () => state,
setState: (update) => {
state = { ...state, ...update }
listeners.forEach(l => l(state))
},
subscribe: (l) => {
listeners.add(l)
return () => listeners.delete(l)
}
}
})()
return {
...store,
config, // Expose config
GetFormState: () => store.getState(),
GetFormItemStateByKey: (key) => store.getState()[key],
SetFormItemState: (item) => {
const currentState = store.getState()
store.setState({
[item.id]: {
...currentState[item.id],
...item
}
})
},
ResetFormState: () => {
store.setState(initialState)
}
}
}
window.Form = (props, ...children) => {
const { style, onSubmit, store, className = '', ...rest } = props || {}
const classes = ['ltng-form']
if (className) classes.push(className)
const form = document.createElement('form')
Object.entries(rest).forEach(([key, value]) => {
if (key === 'class') return // Handle class separately
else form.setAttribute(key, value)
})
form.className = classes.join(' ')
form.style.cssText = styleToString(style)
form.onsubmit = (e) => {
e.preventDefault()
if (onSubmit && store) {
onSubmit({ ...e, formObject: store.GetFormState() })
}
}
children.forEach(child => {
if (child) form.appendChild(child)
})
return form
}
Form.Field = (props) => {
const {
store,
fieldKey,
label,
isSecret,
validation,
isRequired,
style,
darkMode, // Explicit prop overrides store config
...rest
} = props
if (!store) {
console.error('Form.Field requires a "store" prop.')
return Div({}, 'Error: Missing store')
}
const effectiveDarkMode = darkMode !== undefined
? darkMode
: store.config?.darkMode
const currentState = store.GetFormState()
if (!currentState[fieldKey]) {
store.SetFormItemState({
id: fieldKey,
value: '',
errValue: null,
required: isRequired
})
}
const errorSpan = Typography.Span({
class: 'ltng-form-error-msg'
}, '')
const handleInput = (e) => {
const value = e.target.value
let err = null
if (isRequired && !value) {
err = new Error('Required field')
} else if (validation) {
err = validation({ value })
}
store.SetFormItemState({
id: fieldKey,
value,
errValue: err,
required: isRequired
})
}
const inputProps = {
...rest,
id: fieldKey,
placeholder: label,
onChange: handleInput, // Input component maps this to onInput
style: style,
darkMode: effectiveDarkMode
}
const inputComponent = isSecret ? Input.Secret(inputProps) : Input(inputProps)
store.subscribe((state) => {
const item = state[fieldKey]
if (item) {
const actualInput = inputComponent.querySelector('input')
if (actualInput && actualInput.value !== item.value) {
actualInput.value = item.value || ''
}
errorSpan.textContent = item.errValue ? item.errValue.message : ''
}
})
return Div({ class: 'ltng-form-field-container' },
inputComponent,
errorSpan
)
}
Form.FieldSecret = (props) => Form.Field({ ...props, isSecret: true })
Form.PrimaryButton = (props, ...children) => {
const { store, disabled, ...rest } = props
const btn = Button.Primary({
...rest,
type: 'submit',
disabled: disabled // Initial state
}, ...children)
if (store) {
store.subscribe((state) => {
let shouldDisable = false
Object.values(state).forEach(item => {
if (!item || typeof item !== 'object' || Array.isArray(item)) return
if (item.required && (!item.value || item.errValue)) {
shouldDisable = true
}
if (item.errValue) {
shouldDisable = true
}
})
if (btn.tagName === 'BUTTON') {
btn.disabled = shouldDisable || disabled
} else {
const actualBtn = btn.querySelector('button')
if (actualBtn) actualBtn.disabled = shouldDisable || disabled
}
})
}
return btn
}
Form.SecondaryButton = (props, ...children) => {
const { store, ...rest } = props
return Button.Secondary({
...rest,
type: 'button', // Prevent submit
onClick: (e) => {
e.preventDefault()
if (store) store.ResetFormState()
if (props.onClick) props.onClick(e)
}
}, ...children)
}
})();
(function(){
})();
(function(){
window.loadCSS(new URL('../styles/theme.css', ({ url: 'file:///input.mjs' }).url).href)
window.loadCSS(new URL('./input.css', ({ url: 'file:///input.mjs' }).url).href)
window.Input = (props) => {
const {
id,
placeholder,
type = 'text',
isSecret,
darkMode = true,
style,
onChange,
onFocus,
onBlur,
value,
className = '',
...rest
} = props || {}
const inputId = id || `input-${Math.random().toString(36).substring(2, 11)}`
let currentType = isSecret ? 'password' : type
const inputClasses = ['ltng-input-field']
if (darkMode) inputClasses.push('ltng-input-field--dark')
else inputClasses.push('ltng-input-field--light')
if (isSecret) inputClasses.push('ltng-input-field--secret')
const inputEl = input({
id: inputId,
type: currentType,
value: value || '',
placeholder: '', // Placeholder is handled by label
class: inputClasses.join(' '),
onInput: onChange, // Map onChange to onInput for real-time updates
onFocus: onFocus,
onBlur: onBlur,
...rest
})
const labelClasses = ['ltng-input-label']
if (darkMode) labelClasses.push('ltng-input-label--dark')
else labelClasses.push('ltng-input-label--light')
const children = [
window.label({
class: labelClasses.join(' '),
for: inputId
}, placeholder || ''),
inputEl
]
if (isSecret) {
const toggleClasses = ['ltng-input-secret-toggle']
if (darkMode) toggleClasses.push('ltng-input-secret-toggle--dark')
else toggleClasses.push('ltng-input-secret-toggle--light')
const toggleBtn = div({
class: toggleClasses.join(' '),
onClick: (e) => {
const input = document.getElementById(inputId)
if (input) {
if (input.type === 'password') {
input.type = 'text'
e.target.textContent = 'Hide' // Simple text for now, could be icon
} else {
input.type = 'password'
e.target.textContent = 'Show'
}
}
}
}, 'Show')
children.push(toggleBtn)
}
const wrapperClasses = ['ltng-input-wrapper']
if (darkMode) wrapperClasses.push('ltng-input-wrapper--dark')
else wrapperClasses.push('ltng-input-wrapper--light')
if (className) wrapperClasses.push(className)
return div({
class: wrapperClasses.join(' '),
style: style
}, ...children)
}
Input.Secret = (props) => Input({ ...props, isSecret: true })
})();
(function(){
var Card = window.Card;
window.loadCSS(new URL('../styles/theme.css', ({ url: 'file:///modal.mjs' }).url).href)
window.loadCSS(new URL('./modal.css', ({ url: 'file:///modal.mjs' }).url).href)
window.Modal = (props, ...children) => {
const {
isOpen,
onClose,
darkMode = true,
style,
closeFromOutside = true,
className = '',
...rest
} = props || {}
if (!isOpen) return null
const backgroundOverlay = div({
class: 'ltng-modal-overlay',
onClick: (e) => {
if (closeFromOutside && onClose) {
onClose(e)
}
}
})
const contentClasses = ['ltng-modal-content']
if (darkMode) contentClasses.push('ltng-modal-content--dark')
else contentClasses.push('ltng-modal-content--light')
const content = Card.Closable({
darkMode,
onCloseClick: onClose,
className: contentClasses.join(' '),
style: style,
...rest
}, ...children)
const containerClasses = ['ltng-modal-container']
if (className) containerClasses.push(className)
const baseContainer = div({
class: containerClasses.join(' ')
}, backgroundOverlay, content)
return baseContainer
}
})();
(function(){
var Card = window.Card;
var Div = window.Div;
var Typography = window.Typography;
const Colours = {
DarkGoldenRod: '#b8860b',
DarkGreen: '#006400',
DarkRed: '#8b0000',
Whitesmoke: 'whitesmoke',
Primary: '#1976d2',
DarkGray: '#333',
}
const createToastStore = () => {
let toasts = []
const listeners = new Set()
let counter = 0
const notify = () => listeners.forEach(l => l(toasts))
const remove = (id) => {
toasts = toasts.filter(t => t.id !== id)
notify()
}
const add = (toast) => {
const id = ++counter
const newToast = { ...toast, id }
toasts = [...toasts, newToast]
notify()
if (newToast.duration !== 0) {
setTimeout(() => {
remove(id)
}, newToast.duration || 5000)
}
return id
}
return {
getToasts: () => toasts,
subscribe: (l) => {
listeners.add(l)
return () => listeners.delete(l)
},
add,
remove
}
}
window.loadCSS(new URL('../styles/theme.css', ({ url: 'file:///toast.mjs' }).url).href)
window.loadCSS(new URL('./toast.css', ({ url: 'file:///toast.mjs' }).url).href)
window.toastStore = createToastStore()
window.Toast = {
Container: (props) => {
const { store = toastStore, darkMode = true } = props || {}
const container = Div({
class: 'ltng-toast-container'
})
const renderToasts = (list) => {
container.innerHTML = '' // Clear current
list.forEach((t, index) => {
const classes = ['ltng-toast-card']
if (t.type === 'warning') classes.push('ltng-toast-card--warning')
else if (t.type === 'success') classes.push('ltng-toast-card--success')
else if (t.type === 'failure') classes.push('ltng-toast-card--failure')
else {
if (darkMode) classes.push('ltng-toast-card--default-dark')
else classes.push('ltng-toast-card--default-light')
}
const toastCard = Card.Closable({
darkMode,
onCloseClick: () => store.remove(t.id),
className: classes.join(' '),
style: {
marginTop: `${index * 110}px`,
zIndex: 2000 + index
},
closeBtnStyle: { borderColor: t.type === 'failure' ? 'white' : 'currentColor' }
},
Typography.Paragraph({ style: { margin: 0, color: 'inherit' } }, t.message)
)
container.appendChild(toastCard)
})
}
store.subscribe(renderToasts)
return container
},
show: (message, options = {}) => toastStore.add({ message, ...options }),
success: (message, options = {}) => toastStore.add({ message, type: 'success', ...options }),
warning: (message, options = {}) => toastStore.add({ message, type: 'warning', ...options }),
failure: (message, options = {}) => toastStore.add({ message, type: 'failure', ...options }),
}
})();
(function(){
var styleToString = window.styleToString;
window.loadCSS(new URL('../styles/theme.css', ({ url: 'file:///typography.mjs' }).url).href)
window.loadCSS(new URL('./typography.css', ({ url: 'file:///typography.mjs' }).url).href)
const createTypographyComponent = (tag, variantClass) => (props, ...children) => {
const { darkMode = true, className = '', style, ...rest } = props || {}
const classes = ['ltng-typography']
if (variantClass) {
classes.push(variantClass)
}
if (darkMode) {
classes.push('ltng-typography--dark')
} else {
classes.push('ltng-typography--light')
}
if (className) {
classes.push(className)
}
const elementCreator = window[tag] || ((p, ...c) => {
return window.createElement(tag.toLowerCase(), p, ...c)
})
return elementCreator({
...rest,
class: classes.join(' '),
style: typeof style === 'object' ? styleToString(style) : style
}, ...children)
}
window.Typography = (props, ...children) => {
return createTypographyComponent('div')(props, ...children)
}
Typography.H1 = createTypographyComponent('h1', 'ltng-typography-h1')
Typography.H2 = createTypographyComponent('h2', 'ltng-typography-h2')
Typography.H3 = createTypographyComponent('h3', 'ltng-typography-h3')
Typography.H4 = createTypographyComponent('h4', 'ltng-typography-h4')
Typography.H5 = createTypographyComponent('h5', 'ltng-typography-h5')
Typography.Paragraph = createTypographyComponent('p', 'ltng-typography-p')
Typography.Span = createTypographyComponent('span', 'ltng-typography-span')
})();