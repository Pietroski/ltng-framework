<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>ltng-framework Test</title>
	<script src="ltng-framework.js"></script>
	<script src="theme.js"></script>
	<style>
		body {
			font-family: sans-serif;
			padding: 20px;
		}

		.container {
			border: 1px solid #ccc;
			padding: 20px;
			border-radius: 8px;
		}

		.header {
			background-color: #f0f0f0;
			padding: 10px;
			margin-bottom: 10px;
		}

		.btn {
			padding: 8px 16px;
			background-color: #007bff;
			color: white;
			border: none;
			border-radius: 4px;
			cursor: pointer;
		}

		.btn:hover {
			background-color: #0056b3;
		}
	</style>
	<script type="importmap">
		{
			"imports": {
				"ltng-components": "../../pkg/components/index.js"
			}
		}
	</script>
<link /><link /><link /><link /><link /><link /><link /><link /><link /><link /><link /><link /><link /><link /><link /><link /><link /><link /></head>

<body style="background-color:#fff;color:#000"><div class="ltng-container"><header class="header"><h1>Welcome to ltng-framework</h1><p>This is a test of the lightweight framework.</p></header><main><p>Below is a generated list:</p><ul><li>Item 1</li><li>Item 2</li><li>Item 3</li></ul><div class="ltng-container" style="margin-top: 20px;"><button class="ltng-button">Click Me</button></div></main><footer class="ltng-footer" style="margin-top: 20px; color: #666;"><p>© 2025 ltng-framework</p></footer></div><div class="ltng-container" style="margin-top: 20px;"><h3>State Management: Counter</h3><div class="ltng-container"><button class="ltng-button">-</button><span style="font-weight: bold; margin: 0 10px;">0</span><button class="ltng-button">+</button></div></div><div class="ltng-container" style="margin-top: 20px;"><h3>Persistence: Theme</h3><p>Reload the page to see the theme persist!</p><button class="ltng-button" style="margin-top: 10px;">Toggle Theme</button><div class="ltng-container" style="margin-top: 15px;"><a href="page2.html" style="color: #007bff;">Go to Page 2 (Context Test)</a></div></div><script type="module">
		import { Div as LTNGDiv, Button as LTNGButton, Footer as LTNGFooter } from "ltng-components";

		Body.render(
			LTNGDiv({ class: 'container' },
				Header({ class: 'header' },
					H1({}, 'Welcome to ltng-framework'),
					P({}, 'This is a test of the lightweight framework.')
				),
				Main({},
					P({}, 'Below is a generated list:'),
					Ul({},
						Li({}, 'Item 1'),
						Li({}, 'Item 2'),
						Li({}, 'Item 3')
					),
					LTNGDiv({ style: 'margin-top: 20px;' },
						LTNGButton({
							class: 'btn',
							onClick: () => overlayModal({}, 'LTNGButton clicked! This is a custom modal.')
						}, 'Click Me')
					)
				),
				LTNGFooter({ style: 'margin-top: 20px; color: #666;' },
					P({}, '© 2025 ltng-framework')
				)
			)
		)

		// --- State Management Demo ---

		// 1. Counter Store
		const counterStore = createStore({ count: 0 })

		const counterDisplay = Span({ style: 'font-weight: bold; margin: 0 10px;' }, '0')

		counterStore.subscribe(state => {
			counterDisplay.textContent = state.count
		})

		const counterSection = LTNGDiv({ class: 'container', style: 'margin-top: 20px;' },
			H3({}, 'State Management: Counter'),
			LTNGDiv({},
				LTNGButton({ onClick: () => counterStore.setState({ count: counterStore.getState().count - 1 }) }, '-'),
				counterDisplay,
				LTNGButton({ onClick: () => counterStore.setState({ count: counterStore.getState().count + 1 }) }, '+')
			)
		)
		Body.render(counterSection)

		// 2. Persisted Theme Store
		const themeStore = createStore({ dark: false }, { persist: 'ltng_theme' })

		const themeBtn = LTNGButton({ class: 'btn', style: 'margin-top: 10px;' }, 'Toggle Theme')
		themeStore.subscribe(setTheme)

		const themeSection = LTNGDiv({ class: 'container', style: 'margin-top: 20px;' },
			H3({}, 'Persistence: Theme'),
			P({}, 'Reload the page to see the theme persist!'),
			themeBtn,
			LTNGDiv({ style: 'margin-top: 15px;' },
				A({ href: 'page2.html', style: 'color: #007bff;' }, 'Go to Page 2 (Context Test)')
			)
		)

		themeBtn.onclick = () => themeStore.setState({ dark: !themeStore.getState().dark })

		Body.render(themeSection);
	</script>
</body>

</html>
